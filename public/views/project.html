{{ define "project" }}
<main>
    <h1>{{ .Title }}</h1>
    <div class="boards">
        {{ range .Boards }}
        {{ template "board" . }}
        {{ end }}
    </div>
</main>
{{ end }}

{{ block "board" . }}
<details open class="board">
    <summary class="board_summary">{{ .Title }}</summary>
    <ol class="columns">
        {{ range .Columns }}
        {{ template "column" . }}
        {{ end }}
    </ol>
</details>
{{ end }}

{{ block "column" . }}
<li>
    {{ if eq .ColumnType 0 }}
        <div class="column column_nil">
            <h3>{{ .Title }}</h3>
            <ol class="projectitems_list">
                {{ range .Items }}
                <li>
                    {{ template "projectitem" . }}
                </li>
                {{ end }}
            </ol>
            <button hx-get="/projectitem/{{ .ID }}/new" hx-swap="outerHTML">Opprett ny sak</button>
        </div>
    {{ else if eq .ColumnType 1 }}
        <div class="column column_one">
            <h3>{{ .Title }}</h3>
            <ol class="projectitems_list">
                {{ range .Items }}
                <li>
                    {{ template "projectitem" . }}
                </li>
                {{ end }}
            </ol>
        </div>
    {{ else if eq .ColumnType 2 }}
        <div class="column column_two">
            <h3>{{ .Title }}</h3>
            <ol class="projectitems_list">
                {{ range .Items }}
                <li>
                    {{ template "projectitem" . }}
                </li>
                {{ end }}
            </ol>
        </div>
    {{ end }}
</li>
{{ end }}